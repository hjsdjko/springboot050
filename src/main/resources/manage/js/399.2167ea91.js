(self["webpackChunkvue3_nb0"]=self["webpackChunkvue3_nb0"]||[]).push([[399],{43396:(e,t,n)=>{"use strict";var i=n(65378),o=n(46723).findIndex,a=n(39025),r="findIndex",l=!0;r in[]&&Array(1)[r]((function(){l=!1})),i({target:"Array",proto:!0,forced:l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(r)},53394:(e,t,n)=>{var i=n(65378),o=n(80808),a=n(41175).f;i({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!o},{defineProperties:a})},56444:(e,t,n)=>{var i=n(65378),o=n(75039),a=n(58717),r=n(64050).f,l=n(80808),s=!l||o((function(){r(1)}));i({target:"Object",stat:!0,forced:s,sham:!l},{getOwnPropertyDescriptor:function(e,t){return r(a(e),t)}})},82420:(e,t,n)=>{var i=n(65378),o=n(80808),a=n(40975),r=n(58717),l=n(64050),s=n(42525);i({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,n,i=r(e),o=l.f,u=a(i),c={},d=0;while(u.length>d)n=o(i,t=u[d++]),void 0!==n&&s(c,t,n);return c}})},66936:(e,t,n)=>{var i=n(65378),o=n(77095),a=n(7882),r=n(75039),l=r((function(){a(1)}));i({target:"Object",stat:!0,forced:l},{keys:function(e){return a(o(e))}})},66705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var i=n(44401);function o(e,t,n,o,a,r){var l=(0,i.up)("index-main"),s=(0,i.up)("el-container");return(0,i.wg)(),(0,i.j4)(s,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(l)]})),_:1})}n(78623),n(13499),n(8461),n(14580);var a=n(71066),r=n(28849),l=(n(33338),n(94582),n(66936),n(71026)),s=function(e){return(0,i.dD)("data-v-10568c7c"),e=e(),(0,i.Cn)(),e},u={key:0,class:"iconfont icon-zhuye2"},c=s((function(){return(0,i._)("span",null,"首页",-1)}));const d={__name:"indexMenu",props:{collapse:Boolean},setup:function(e){var t,n=e,o=null===(t=(0,i.FN)())||void 0===t?void 0:t.appContext.config.globalProperties,s=(0,a.BK)(n),d=s.collapse,f=(0,a.iH)([]),p=(0,a.iH)(""),v=function(){var e=l.Z.list();e&&(f.value=e),p.value=null===o||void 0===o?void 0:o.$toolUtil.storageGet("role");for(var t=0;t<f.value.length;t++)if(f.value[t].roleName==p.value){f.value=f.value[t];break}},h=function(e,t){"center"==e&&(e="".concat(p.value,"Center")),"storeup"==e&&(e="storeup?type=".concat(t)),"exampaper"==e&&"12"==t&&(e="exampaperlist"),"examrecord"==e&&"22"==t&&(e="examfailrecord");var n=null===o||void 0===o?void 0:o.$router;e="/"+e,n.push(e)};return v(),function(e,t){var n=(0,i.up)("el-sub-menu"),o=(0,i.up)("el-menu-item"),l=(0,i.up)("el-menu"),s=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(s,{"wrap-class":"scrollbar-wrapper",class:"menu_scrollbar"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{"default-openeds":[],"unique-opened":!0,"default-active":"0",class:"menu_view",collapse:(0,a.SU)(d)},{default:(0,i.w5)((function(){return[(0,i.Wm)(n,{index:0,onClick:t[0]||(t[0]=function(e){return h("")})},{title:(0,i.w5)((function(){return[((0,a.SU)(d),(0,i.wg)(),(0,i.iD)("i",u)),c]})),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.value.backMenu,(function(e,t){return(0,i.wg)(),(0,i.j4)(n,{key:e.menu,index:t+2+""},{title:(0,i.w5)((function(){return[((0,a.SU)(d),(0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["iconfont",e.fontClass])},null,2)),(0,i._)("span",null,(0,r.zw)(e.menu),1)]})),default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.child,(function(e,n){return(0,i.wg)(),(0,i.j4)(o,{class:"menu_item_view",key:n,index:t+2+"-"+n,onClick:function(t){return h(e.tableName,e.menuJump)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.menu),1)]})),_:2},1032,["index","onClick"])})),128))]})),_:2},1032,["index"])})),128))]})),_:1},8,["collapse"])]})),_:1})])}}};var f=n(51059);const p=(0,f.Z)(d,[["__scopeId","data-v-10568c7c"]]),v=p;n(63068),n(19937),n(54371),n(802);const h=n.p+"img/avatar.82999e9a.png";var g=n(65934),m=n(77549),w=n(10531),_=n(16141),x=function(e){return(0,i.dD)("data-v-c4868ea2"),e=e(),(0,i.Cn)(),e},b={class:"top_view"},y={class:"top_left_view"},k=x((function(){return(0,i._)("div",{class:"projectTitle"},"苏蔚中学家校互联系统",-1)})),C={class:"top_right_view"},T={class:"avatar-wrapper"},$={class:"nickname"},j=x((function(){return(0,i._)("img",{class:"user-avatar",src:h},null,-1)}));const O={__name:"indexTop",props:{collapse:Boolean},emits:["collapseChange"],setup:function(e,t){var n,o=t.emit,l=e,s=(0,w.oR)(),u=(0,a.BK)(l),c=u.collapse,d=(0,_.tv)(),f=null===(n=(0,i.FN)())||void 0===n?void 0:n.appContext.config.globalProperties,p=null===f||void 0===f?void 0:f.$toolUtil.storageGet("sessionTable"),v=null===f||void 0===f?void 0:f.$toolUtil.storageGet("role"),h=function(){o("collapseChange")},x=function(){null===f||void 0===f||f.$http({url:"".concat(null===f||void 0===f?void 0:f.$toolUtil.storageGet("sessionTable"),"/session"),method:"get"}).then((function(e){null===f||void 0===f||f.$toolUtil.storageSet("userid",e.data.data.id)}))},O=function(){m.T.confirm("是否备份数据库?","数据备份提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){g.Z.get("/cl08920260/mysqldump",{headers:{token:null===f||void 0===f?void 0:f.$toolUtil.storageGet("Token")},responseType:"blob"}).then((function(e){var t=e.data,n=[];n.push(t);var i=window.URL.createObjectURL(new Blob(n,{type:"application/pdf;chartset=UTF-8"})),o=document.createElement("a");o.href=i,o.download="mysql.dmp",o.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),window.URL.revokeObjectURL(t),message.message("数据备份成功")}))}))},P=function(){var e=null===f||void 0===f?void 0:f.$toolUtil;s.dispatch("delAllCachedViews"),s.dispatch("delAllVisitedViews"),e.storageClear(),d.replace({name:"login"})},U=function(){d.push("/".concat(p,"Center"))},W=function(){d.push("/updatepassword")};return x(),function(e,t){var n=(0,i.up)("Fold"),o=(0,i.up)("Expand"),l=(0,i.up)("el-icon"),s=(0,i.up)("arrow-down"),u=(0,i.up)("el-dropdown-item"),d=(0,i.up)("el-dropdown-menu"),f=(0,i.up)("el-dropdown");return(0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",y,[(0,i._)("div",{class:"fold_view",onClick:h},[(0,i.Wm)(l,{class:"icons"},{default:(0,i.w5)((function(){return[(0,a.SU)(c)?((0,i.wg)(),(0,i.j4)(o,{key:1})):((0,i.wg)(),(0,i.j4)(n,{key:0}))]})),_:1})])]),k,(0,i._)("div",C,[(0,i.Wm)(f,{class:"avatar-container right-menu-item",trigger:"hover"},{dropdown:(0,i.w5)((function(){return[(0,i.Wm)(d,{slot:"dropdown"},{default:(0,i.w5)((function(){return["管理员"!=(0,a.SU)(v)?((0,i.wg)(),(0,i.j4)(u,{key:0,onClick:U},{default:(0,i.w5)((function(){return[(0,i.Uk)(" 个人中心 ")]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(u,{onClick:W},{default:(0,i.w5)((function(){return[(0,i.Uk)(" 修改密码 ")]})),_:1}),"管理员"==(0,a.SU)(v)?((0,i.wg)(),(0,i.j4)(u,{key:1},{default:(0,i.w5)((function(){return[(0,i._)("span",{style:{display:"block"},onClick:O},"数据备份")]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(u,null,{default:(0,i.w5)((function(){return[(0,i._)("span",{style:{display:"block"},onClick:P},"退出登录")]})),_:1})]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i._)("div",T,[(0,i._)("div",$,"欢迎 "+(0,r.zw)(e.$toolUtil.storageGet("adminName")),1),j,(0,i.Wm)(l,{class:"el-icon--right"},{default:(0,i.w5)((function(){return[(0,i.Wm)(s)]})),_:1})])]})),_:1})])])}}},P=(0,f.Z)(O,[["__scopeId","data-v-c4868ea2"]]),U=P;n(38704);var W=n(94899),D={id:"tags-view-container",class:"tags-view-container"};function S(e,t,n,o,a,l){var s=(0,i.up)("Close"),u=(0,i.up)("el-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("scroll-pane");return(0,i.wg)(),(0,i.iD)("div",D,[(0,i.Wm)(d,{ref:"scrollPane",class:"tags-view-wrapper"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.visitedViews,(function(e){return(0,i.wg)(),(0,i.j4)(c,{ref_for:!0,ref:"tag",key:e.path,class:(0,r.C_)([l.isActive(e)?"active":"","tags-view-item"]),to:{path:e.path,query:e.query,fullPath:e.fullPath},tag:"span",onMouseup:(0,W.iM)((function(t){return l.closeSelectedTag(e)}),["middle"]),onContextmenu:(0,W.iM)((function(t){return l.openMenu(e,t)}),["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.name)+" ",1),e.meta.affix?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:0,class:"el-icon-close",onClick:(0,W.iM)((function(t){return l.closeSelectedTag(e)}),["prevent","stop"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(s)]})),_:2},1032,["onClick"]))]})),_:2},1032,["class","to","onMouseup","onContextmenu"])})),128))]})),_:1},512),(0,i.wy)((0,i._)("ul",{style:(0,r.j5)({left:a.left+"px",top:a.top+"px"}),class:"contextmenu"},[a.selectedTag.meta&&a.selectedTag.meta.affix?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("li",{key:0,onClick:t[0]||(t[0]=function(e){return l.closeSelectedTag(a.selectedTag)})},"Close")),(0,i._)("li",{onClick:t[1]||(t[1]=function(e){return l.closeAllTags(a.selectedTag)})},"Close All")],4),[[W.F8,a.visible]])])}var L=n(12613),V=n(79845),M=(n(58291),n(83490),n(56444),n(82420),n(53394),n(76676),n(48636));function A(e,t,n){return t=(0,M.Z)(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(59075),n(63196),n(48400);function E(e,t,n,o,a,r){var l=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.j4)(l,{ref:"scrollContainer",vertical:!1,class:"scroll-container",onWheel:(0,W.iM)(r.handleScroll,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.WI)(e.$slots,"default",{},void 0,!0)]})),_:3},8,["onWheel"])}n(43396);var I=4;const z={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer}},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,n=this.scrollWrapper;n.scrollLeft=n.scrollLeft+t/4},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,n=t.offsetWidth,i=this.scrollWrapper,o=this.$parent.$refs.tag,a=null,r=null;if(o.length>0&&(a=o[0],r=o[o.length-1]),a===e)i.scrollLeft=0;else if(r===e)i.scrollLeft=i.scrollWidth-n;else{var l=o.findIndex((function(t){return t===e})),s=o[l-1],u=o[l+1],c=u.$el.offsetLeft+u.$el.offsetWidth+I,d=s.$el.offsetLeft-I;c>i.scrollLeft+n?i.scrollLeft=c-n:d<i.scrollLeft&&(i.scrollLeft=d)}}}},B=(0,f.Z)(z,[["render",E],["__scopeId","data-v-6098312d"]]),H=B,N={components:{ScrollPane:H},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.visitedViews},routes:function(){return this.$store.state.routes}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.$store.dispatch("updateSideMenus"),this.initTags(),this.addTags()},methods:{isActive:function(e){return e.path===this.$route.path},filterAffixTags:function(e){var t=this,n=[];return e.forEach((function(e){if(e.meta&&e.meta.affix&&n.push({fullPath:"/",path:"/",name:e.name,meta:q({},e.meta)}),e.children){var i=t.filterAffixTags(e.children,e.path);i.length>=1&&(n=[].concat((0,V.Z)(n),(0,V.Z)(i)))}})),n},initTags:function(){var e,t=this.affixTags=this.filterAffixTags(this.routes),n=(0,L.Z)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.name&&this.$store.dispatch("addVisitedView",i)}}catch(o){n.e(o)}finally{n.f()}},addTags:function(){var e=this.$route.name;return e&&this.$store.dispatch("addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var n,i=(0,L.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.to.path===e.$route.path){e.$refs.scrollPane.moveToTarget(o),o.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("updateVisitedView",e.$route);break}}}catch(a){i.e(a)}finally{i.f()}}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("delView",e).then((function(n){var i=n.visitedViews;t.isActive(e)&&t.toLastView(i,e)}))},closeAllTags:function(e){var t=this;this.$store.dispatch("delAllViews").then((function(n){var i=n.visitedViews;t.affixTags.some((function(t){return t.path===e.path}))||t.toLastView(i,e)}))},toLastView:function(e,t){var n=e.slice(-1)[0];if("首页"==n.name)return this.$router.push("/"),!1;n?this.$router.push(n):"首页"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var n=105,i=this.$el.getBoundingClientRect().left,o=this.$el.offsetWidth,a=o-n,r=t.clientX-i+15;this.left=r>a?a:r,this.top=36,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1}}},F=(0,f.Z)(N,[["render",S],["__scopeId","data-v-eb3f47d0"]]),G=F;n(96922);var R={style:{height:"100%"}};const K={__name:"indexMain",setup:function(e){null===(t=(0,i.FN)())||void 0===t||t.appContext.config.globalProperties;var t,n=(0,a.iH)(!1),o=function(){n.value=!n.value};(0,a.iH)(null),(0,a.iH)("");return function(e,t){var l=(0,i.up)("router-view"),s=(0,i.up)("el-main");return(0,i.wg)(),(0,i.iD)("div",R,[(0,i.Wm)((0,a.SU)(v),{collapse:n.value,class:(0,r.C_)(n.value?"index-aside-collapse":"index-aside")},null,8,["collapse","class"]),(0,i.Wm)(s,{class:(0,r.C_)(["main_view index_transition",n.value?"main_view-collapse":""]),style:{"max-width":"100%"}},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,a.SU)(U),{class:"index_header index_transition",collapse:n.value,onCollapseChange:o,style:{width:"100%","max-width":"100%"}},null,8,["collapse"]),(0,i.Wm)((0,a.SU)(G),{class:"index_tags",style:{width:"100%","max-width":"100%"}}),(0,i.Wm)(l,{class:"router-view index_transition",style:{background:"transparent","max-width":"100%"}})]})),_:1},8,["class"])])}}},Y=(0,f.Z)(K,[["__scopeId","data-v-157eef7b"]]),J=Y,X={name:"indexView",components:{indexMain:J}},Q=(0,f.Z)(X,[["render",o],["__scopeId","data-v-560d729c"]]),ee=Q},76394:(e,t,n)=>{var i={"./banjixinxi/list.vue":[78658],"./config/list.vue":[87474,474],"./exam/examfailrecord/list.vue":[92639],"./exam/exampaperlist/list.vue":[25578],"./exam/examquestion/list.vue":[84503],"./exam/examrecord/list.vue":[56762],"./exampaper/list.vue":[82753],"./fankuiyijian/list.vue":[95619],"./huifuxinxi/list.vue":[52623],"./huodongbaoming/list.vue":[41989],"./huodongxinxi/list.vue":[67456],"./jiaoshi/list.vue":[23962],"./jiazhang/list.vue":[56173],"./kechengbiao/list.vue":[26813],"./kechengzuoye/list.vue":[73058],"./ketangbiaoxian/list.vue":[38140],"./liuyanxiaoxi/list.vue":[99398],"./meiricanpu/list.vue":[79092],"./qingjiashenqing/list.vue":[21302],"./syslog/list.vue":[29803],"./tijiaozuoye/list.vue":[78393],"./tongzhigonggao/list.vue":[5545],"./users/list.vue":[91993],"./wenjianguanli/list.vue":[13655],"./wenjuandiaocha/list.vue":[36346],"./xuesheng/list.vue":[4327],"./xueshengchengji/list.vue":[15655],"./zuoyepigai/list.vue":[60371]};function o(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(o)))}o.keys=()=>Object.keys(i),o.id=76394,e.exports=o}}]);
//# sourceMappingURL=399.2167ea91.js.map